<nav class="nav-col">
    <div class="nav-col-logo">
        <a href="/">
            <img src="{{ asset('images/atypik_long-removebg-preview.654ec52f.png') }}" class="nav-logo">
        </a>
    </div>
    <div id="nav-col-menu">
        <input id="menu-toggle" type="checkbox" />
        <label id="menu-btn" for="menu-toggle">
            <span id="first-pan"></span>
            <span id="burger"></span>
            <span id="second-pan"></span>
        </label>
        <ul id="menu-box">
            <li class="nav-item">
                <a class="nav-link fs-5 green-text" href="/">Destinations</a>
            </li>
            <li class="nav-item">
                <a class="nav-link fs-5 green-text" href="{{ path('habitats_index') }}">Hébergements</a>
            </li>
            <li class="nav-item">
                <a class="nav-link fs-5 green-text" href="/">Contact</a>
            </li>
            {% if is_granted('ROLE_HOTE') %}
            <li class="nav-item">
                <a class="nav-link fs-5 green-text" href="{{ path('hote_habitats') }}">Habitats</a>
            </li>
            <li class="nav-item">
                <a class="nav-link fs-5 green-text" href="#">Calendrier</a>
            </li>
            {% endif %}
            <li class="nav-item d-md-none">
                {% if not is_granted('ROLE_HOTE') %}
                    <a href="{{ path('changer_role', {'type': 'hote'}) }}" class="nav-link fs-5 green-text">Devenir hôte</a>
                {% elseif is_granted('ROLE_HOTE') %}
                    <a href="{{ path('changer_role', {'type': 'user'}) }}" class="nav-link fs-5 green-text">Devenir utilisateur</a>
                {% endif %}
            </li>
        </ul>
    </div>

    <div class="nav-col-login">
        {% if not is_granted('ROLE_HOTE') %}
            <a href="{{ path('changer_role', {'type': 'hote'}) }}" class="nav-link green-text d-md-block">Devenir hôte</a>
        {% elseif is_granted('ROLE_HOTE') %}
            <a href="{{ path('changer_role', {'type': 'user'}) }}" class="nav-link green-text d-md-block">Devenir utilisateur</a>
        {% endif %}
        {% if app.user %}
            <div class="dropdown">
                <button type="button" class="nav-link green-text bg-transparent" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="fa-solid fa-user-circle"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                {% if not is_granted('ROLE_HOTE') %}
                    <li><a class="dropdown-item" href="{{ path('accueil_utilisateur')}}">Profil</a></li>
                {% elseif is_granted('ROLE_HOTE') %}
                    <li><a class="dropdown-item" href="{{ path('accueil_hote')}}">Profil</a></li>
                {% endif %}
                    <li><a class="dropdown-item" href="{{ path('logout') }}">Déconnexion</a></li>
                </ul>
            </div>
        {% elseif app.request.get('_route') != 'login' %}
            <button type="button" class="nav-link green-text bg-transparent" data-bs-toggle="modal" data-bs-target="#exampleModal">
                <span class="fa-solid fa-user-circle"></span>
            </button>
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content site-background-color">
                        <div class="modal-header">
                            <h5 class="modal-title w-100 text-center">Connexion ou Inscription</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            {{ render(controller('App\\Controller\\SecurityController::authentication_form')) }}
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>  
                </div>
            </div>
        {% endif %}
    </div>
</nav>